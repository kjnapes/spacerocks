![Alt text](assets/logo.png)

![spacerocks](https://github.com/kjnapes/spacerocks/workflows/spacerocks/badge.svg?branch=master)
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Documentation Status](https://readthedocs.org/projects/spacerocks/badge/?version=latest)](https://spacerocks.readthedocs.io/en/latest/?badge=latest)
[![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/kjnapier/spacerocks.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/kjnapier/spacerocks/context:python)


`spacerocks` is a Python package that provides high-level abstractions 
for orbital dynamics and solar system observations. Its modern, 
expressive API makes it extremely easy to define orbits, make 
coordinate transformations, numerically propagate orbits, and 
compute precise ephemerides. Several common use cases are illustrated in
[tutorial notebooks](./notebooks/).

Here we illustrate the accuracy of the calculations by comparing 
our predicted ephemerides of Ceres to those generated by JPL Horizons 
for a 50 year timespan.

```Python
from spacerocks import SpaceRock, Units
from astropy.time import Time

units = Units()
units.timescale = 'tdb'

rock = SpaceRock(a=2.765985763166805E+00, 
                 e=7.821081922804583E-02, 
                 inc=1.058793079235974E+01, 
                 node=8.027114319577151E+01, 
                 arg=7.373012101495385E+01, 
                 M=2.108992101403974E+02, 
                 epoch=2459225.500000000, 
                 H=3.53,
                 G=0.12,
                 name='Ceres',
                 origin='sun',
                 units=units)

startdate = Time('2000-01-01', scale='utc', format='iso')
testdates = Time(np.arange(startdate.jd, startdate.jd + 50 * 365.25, 30), scale='utc', format='jd')

units.timescale = 'utc'
prop, planets, sim = rock.propagate(epochs=testdates.jd, model=2, units=units)
obs = prop.observe(obscode='W84')
```
![Alt text](assets/ceres-residuals.png)

For more information, see [this link](./docs/spacerock.md)

### Installation

The easiest way to install spacerocks is with pip:

```zsh
pip install spacerocks
```

If you want to be sure that you have the most up-to-date version, you can clone the repository and install from the source.

```zsh
git clone https://github.com/kjnapier/spacerocks.git
cd spacerocks
python setup.py build_ext -i
pip install .
```

The software is currently verified to be stable on the latest versions of macOS and Ubuntu. It is compatible with Python versions 3.6, and newer.
